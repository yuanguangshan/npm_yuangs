
# üöÄ yuangs CLI - An AI‚ÄëAugmented Shell

**‰ª•‰∫∫Á±ªÊÑèÂõæ‰∏∫‰∏≠ÂøÉÁöÑ AI‚ÄëAugmented Shell**

> A seamless terminal where deterministic execution and probabilistic intelligence coexist without friction.

‰∏Ä‰∏™ÈõÜ **AI Âä©Êâã ¬∑ Êô∫ËÉΩ Shell ÂÜÖÊ†∏ ¬∑ Êèí‰ª∂ÂåñËøêË°åÊó∂** ‰∫é‰∏Ä‰ΩìÁöÑÁé∞‰ª£ÁªàÁ´ØÂ∑•ÂÖ∑„ÄÇ

> **Ê†∏ÂøÉÁêÜÂøµ**  
> **AI Êèê‰æõÊÄùË∑ØÔºå‰∫∫Á±ªÊéåÊéßÊâßË°å„ÄÇ**  
> yuangs Ëá¥Âäõ‰∫éÂú®‰∏çÁ†¥Âùè‰º†Áªü Shell ÂøÉÊô∫Ê®°ÂûãÁöÑÂâçÊèê‰∏ãÔºåÂºïÂÖ• AI ÁöÑÈÄªËæëËÉΩÂäõ„ÄÇ  
> ÂÆÉ‰∏çÊòØÈªëÁõíÊâßË°åÂô®ÔºåËÄåÊòØ‰Ω†ÁöÑ **Â¢ûÂº∫ÂûãÂëΩ‰ª§Ë°åÂ§ñËÑë**„ÄÇ

---


# yuangs

> **‰∏∫ÁªàÁ´ØËÄåÁîüÁöÑ AI Ê≤ªÁêÜËøêË°åÊó∂**  
> *‰∏ç OOMÔºå‰∏çÊÉäÂñúÔºåÂßãÁªàÊúâ‰∫∫Á±ªÂú®ÁéØ*

`yuangs` ÊòØ‰∏Ä‰∏™ÈÅµÂæ™ Unix Âì≤Â≠¶ÁöÑ AI Â∑•ÂÖ∑ÔºåÁåÆÁªôÈÇ£‰∫õÈïøÊúüÂ∑•‰ΩúÂú®ÁªàÁ´ØÈáå„ÄÅ**ÊãíÁªùÈªëÁõíÈ≠îÊ≥ï**ÁöÑÂºÄÂèëËÄÖ„ÄÇ

ÂÆÉ‰∏çÊòØÊµèËßàÂô®Êèí‰ª∂„ÄÇ  
‰∏çÊòØ GUI Âä©Êâã„ÄÇ  
‰πü‰∏çÊòØ‚ÄúÊä´ÁùÄ CLI Â§ñË°£ÁöÑËÅäÂ§©Êú∫Âô®‰∫∫‚Äù„ÄÇ

ÂÆÉËß£ÂÜ≥ÁöÑÊòØ‰∏Ä‰∏™Êõ¥ÈöæÁöÑÈóÆÈ¢òÔºö

> **ÂΩì‰∏çÂèØÊéßÁöÑ AI ËøõÂÖ•ÊûÅÁ´ØÂº∫Ë∞ÉÂèØÊéßÊÄßÁöÑÁªàÁ´ØÔºåÁß©Â∫èËØ•Â¶Ç‰ΩïÈáçÂª∫Ôºü**

---

## ËÆæËÆ°Âì≤Â≠¶

### üß© ÂÅöÂ•Ω‰∏Ä‰ª∂‰∫ãÔºàDo one thing and do it wellÔºâ

`yuangs` ÁöÑÂÆö‰Ωç‰∏çÊòØ‚ÄúÂÖ®ËÉΩÂä©Êâã‚ÄùÔºåËÄåÊòØ‰∏Ä‰∏™**‰∏ä‰∏ãÊñáÊ≤ªÁêÜÂô®ÔºàContext GovernorÔºâ**„ÄÇ

‰Ω†ÂßãÁªàÊ∏ÖÊ•ö„ÄÅÂπ∂‰∏îÊòæÂºèÂú∞ÂÜ≥ÂÆöÔºö
- Âì™‰∫õÊñá‰ª∂ËøõÂÖ• AI ‰∏ä‰∏ãÊñá
- Token È¢ÑÁÆóÊòØÂ§öÂ∞ë
- ‰ΩïÊó∂ÈááÊ†∑„ÄÅ‰ΩïÊó∂Á°ÆËÆ§
- ‰ªÄ‰πàÊó∂ÂÄôÂÖÅËÆ∏ÊâßË°å

Êñá‰ª∂Á≥ªÁªü‰∏é AI ÈÄªËæëÈÄöËøá**ËØ≠Ê≥ï**ËÄå‰∏çÊòØÁÇπÂáªËøûÊé•Ôºö

```bash
ai "@src/**/*.ts #docs"
```

Ëøô‰∏çÊòØÊäÄÂ∑ßÔºåËøôÊòØ Unix Âì≤Â≠¶Ôºö
**ËØ≠Ê≥ïÂç≥ÂäõÈáèÔºàPower of SyntaxÔºâ**„ÄÇ

---

### üõ°Ô∏è ÂºÄÂèëËÄÖ‰∏ªÊùÉÔºåËÄå‰∏çÊòØ‚ÄúÊñπ‰æøËá≥‰∏ä‚Äù

ÂæàÂ§öÁªàÁ´Ø AI Â∑•ÂÖ∑ËøΩÊ±Ç‚ÄúÁúÅ‰∫ã‚ÄùÔºå‰ª£‰ª∑Âç¥ÊòØ**‰∏çÈÄèÊòé**Ôºö

- Êï∞ÊçÆÊÇÑÊÇÑ‰∏ä‰º†  
- ‰∏ä‰∏ãÊñáË¢´ÈöêÂºèÊà™Êñ≠  
- ÊâßË°åÈÄªËæë‰∏çÂèØÂÆ°ËÆ°  

`yuangs` ÈÄâÊã©‰∫ÜÂè¶‰∏ÄÊù°Ë∑ØÔºö

- ‚úÖ **Swiss‚ÄëCheese ÈááÊ†∑È¢ÑËßà**ÔºöÂèëÈÄÅÂâçÁúãÂà∞‚ÄúÊØè‰∏ÄÂùóÂ•∂ÈÖ™‚Äù
- ‚úÖ **TokenPolicy**ÔºöÂÖà‰º∞ÁÆó„ÄÅÂÜçÁ°ÆËÆ§
- ‚úÖ **Human‚Äëin‚Äëthe‚Äëloop**ÔºöÂàáÊ®°Âûã„ÄÅÂèëËØ∑Ê±Ç„ÄÅË∑ëÊâßË°åÔºåÊ∞∏ËøúÈúÄË¶Å‰Ω†ÁÇπÂ§¥

‰Ω†ÁöÑÁªàÁ´ØÔºå  
‰Ω†ÁöÑÊï∞ÊçÆÔºå  
‰Ω†ÁöÑÂÜ≥ÂÆö„ÄÇ

ËøôÊâçÊòØÊûÅÂÆ¢Áúº‰∏≠ÁöÑ**ÁúüËá™Áî±**„ÄÇ

---

### üß† ÂèØÁºñÁ®ãÁöÑ Agent Âü∫Á°ÄËÆæÊñΩÔºåËÄå‰∏çÊòØ Prompt Wrapper

`yuangs` ÂèëÂ∏ÉÂà∞ npm ÁöÑ‰∏çÊòØ‰∏Ä‰∏™‚ÄúÂëΩ‰ª§‚ÄùÔºå  
ËÄåÊòØ‰∏ÄÂ•ó**ÂèØÁªÑÂêàÁöÑ Agent ËøêË°åÊó∂**„ÄÇ

Ê†∏ÂøÉÊäΩË±°ÂåÖÊã¨Ôºö
- `PendingContextItem`
- ‰∏ä‰∏ãÊñá‰º∞ÁÆó / Ëß£ÊûêÂàÜÁ¶ª
- ËÉΩÂäõÊÑüÁü•ÁöÑÊâßË°åÁ≠ñÁï•
- ÂèØÂõûÊîæ„ÄÅÂèØÂÆ°ËÆ°ÁöÑÊâßË°åËÆ∞ÂΩï

‰Ω†ÊãøÂà∞ÁöÑ‰∏çÊòØÈªëÁõíÔºå  
ËÄåÊòØ‰∏ÄÁõí**Â∏¶ËØ¥Êòé‰π¶ÁöÑ‰πêÈ´ò**„ÄÇ

‰Ω†ÂèØ‰ª•Áî®ÂÆÉÊûÑÂª∫Ôºö
- ‰ªìÂ∫ìÁªìÊûÑÂàÜÊûêÂô®  
- Êó•Âøó ‚Üí AI ÁöÑËá™Âä®ÈááÈõÜÁÆ°ÈÅì  
- ÂèØÊéßÁöÑÈáçÊûÑ Agent  
- ÂèØÂÆ°ËÆ°ÁöÑËá™Âä®ÂåñÊµÅÁ®ã  

---

## Ê†∏ÂøÉÁâπÊÄß‰∏ÄËßà

‚úÖ **No OOM, No Surprise**  
ÂÜçÂ§ßÁöÑ‰ªìÂ∫ì„ÄÅÂÜçÈïøÁöÑÊó•ÂøóÔºåÊ≤°ÊúâÁ°ÆËÆ§Â∞±‰∏ç‰ºöÂêÉÂÜÖÂ≠ò„ÄÅ‰∏ç‰ºöÂèëÈÄÅ„ÄÇ

‚úÖ **Human‚Äëin‚Äëthe‚Äëloop, Always**  
Á≥ªÁªüÊ∞∏Ëøú‰∏ç‰ºöÊõø‰Ω†ÂÅöÈªëÁõíÂÜ≥Á≠ñ„ÄÇ

‚úÖ **Power of Syntax**  
`@file`„ÄÅ`#dir`„ÄÅÊÑèÂõæËØ≠Ê≥ïÔºåÊØîÊãñÊãΩÊñá‰ª∂Êõ¥Âø´„ÄÅÊõ¥ÈÖ∑„ÄÇ

‚úÖ **ÂèØÂõûÊîæ„ÄÅÂèØÂÆ°ËÆ°**  
ÊØè‰∏ÄÊ¨° AI Ë°å‰∏∫ÈÉΩËÉΩÂ§çÁõò„ÄÅÂ§çÁé∞„ÄÅË∞ÉËØï„ÄÇ

---

## ÈÄÇÂêàË∞ÅÔºü

- ÁªàÁ´ØÂéüÊïôÊó®‰∏ª‰πâËÄÖ  
- Linux / Unix Âì≤Â≠¶‰ø°Âæí  
- Ë¢´‰∏çÈÄèÊòé AI Â∑•ÂÖ∑‰º§ËøáÁöÑÂ∑•Á®ãÂ∏à  
- ËøΩÊ±Ç**Á°ÆÂÆöÊÄßÈ´ò‰∫é‰æøÂà©ÊÄß**ÁöÑ‰∫∫  

Â¶ÇÊûú‰Ω†ËÆ§ÂêåËøôÂè•ËØùÔºö

> **‚ÄúAI ÂæàÂº∫Â§ßÔºåÊâÄ‰ª•ÂÆÉÂøÖÈ°ªË¢´Ê≤ªÁêÜ„ÄÇ‚Äù**

ÈÇ£ `yuangs` Â∞±ÊòØ‰∏∫‰Ω†ÂÜôÁöÑ„ÄÇ

---



yuangs ÈÄöËøá‰∏ÄÂ•ó**ÊòæÂºèÁöÑÁ¨¶Âè∑ËØ≠Ê≥ï**ÔºåÊ∏ÖÊô∞ÁïåÂÆö‚ÄúÂâØ‰ΩúÁî®‚ÄùÁöÑÊù•Ê∫êÔºå  
Á°Æ‰øùÊØè‰∏ÄÊù°ÂëΩ‰ª§ **ÂèØÁêÜËß£„ÄÅÂèØÁ°ÆËÆ§„ÄÅÂèØÂÆ°ËÆ°**„ÄÇ

| ËØ≠Ê≥ï | Ë°å‰∏∫ÈÄªËæë | ÂÜ≥Á≠ñÊù•Ê∫ê | ÈÄÇÁî®Âú∫ÊôØ |
|---|---|---|---|
| `ls -la` | Áõ¥Êé•ËøêË°åÂëΩ‰ª§Ôºàfish-styleÔºâ | Áî®Êà∑ | ‰º†Áªü Shell Êìç‰Ωú |
| `@path[:line]` | ÂºïÁî®Êñá‰ª∂ / Ë°åÂè∑‰∏ä‰∏ãÊñá | Áî®Êà∑ | ‰ª£Á†ÅÂÆ°ËÆ°„ÄÅÊä•ÈîôÂàÜÊûê |
| `#dir` | ÊâπÈáèÂºïÂÖ•ÁõÆÂΩï‰∏ä‰∏ãÊñá | Áî®Êà∑ | È°πÁõÆÁªìÊûÑÁêÜËß£ |
| `ai "msg"` | Á∫ØËá™ÁÑ∂ËØ≠Ë®ÄÂØπËØù | AI | ÊñπÊ°àËÆ®ËÆ∫„ÄÅÁü•ËØÜÊü•ËØ¢ |
| `ai -e` | ÁîüÊàê**Âª∫ËÆÆ**ÂëΩ‰ª§ | AI ‚Üí Áî®Êà∑ | Â§çÊùÇÂëΩ‰ª§ËæÖÂä© |
| `:exec` | ÁªïËøá AI ÁöÑÂéüÂ≠êÊâßË°å | Áî®Êà∑ | Á°ÆÂÆöÊÄßËÑöÊú¨ |

---

## üåü Ê†∏ÂøÉÂäüËÉΩ

### 1. Êô∫ËÉΩ Shell ÂÜÖÊ†∏Ôºàv2.10.0+Ôºâ

ËøõÂÖ•‰∫§‰∫íÂºè AI‚ÄëAugmented ShellÔºö

```bash
yuangs ai
```

ÁâπÊÄßÂåÖÊã¨Ôºö

- **Ê®°ÂºèËá™Âä®Ë∑ØÁî±**  
  Êó†ÈúÄÂàáÊç¢Ê®°ÂºèÔºö
  - ËæìÂÖ• `git status` ‚Üí Áõ¥Êé•ÊâßË°å  
  - ËæìÂÖ•„ÄåËß£ÈáäËøôÊÆµ‰ª£Á†Å„Äç‚Üí ËøõÂÖ•ÂØπËØù

- **üëª Ghost TextÔºàÂπΩÁÅµÂª∫ËÆÆÔºâ**  
  Ê†πÊçÆÂéÜÂè≤ËÆ∞ÂΩï‰∏éÊèí‰ª∂È¢ÑÊµãËæìÂÖ•  
  ‰æãÂ¶ÇËæìÂÖ• `npm r`ÔºåÁÅ∞Ëâ≤ÊòæÁ§∫ `un dev`ÔºåÊåâ `Tab` ÈááÁ∫≥

- **‚ö° Ë°•ÂÖ®Â¢ûÂº∫**
  - **PATH Êâ´Êèè**ÔºöËá™Âä®Ë°•ÂÖ® 40+ Â∏∏Áî®Á≥ªÁªüÂëΩ‰ª§  
  - **Á≤æÂáÜË°åÂè∑**ÔºöÊîØÊåÅ `@src/index.ts:10-50`  
  - **È°πÁõÆÊÑüÁü•**ÔºöÊèêÂçá `src/`„ÄÅ`packages/` Á≠âÁõÆÂΩïÊùÉÈáç

---

### 2. Á≤æÂáÜ‰∏ä‰∏ãÊñáÁÆ°ÁêÜÔºàContextBufferÔºâ

#### ÁÆ°ÈÅìÊ®°ÂºèÔºàPipe ModeÔºâ

```bash
cat error.log | yuangs "Ëß£ÈáäËøô‰∏™Êä•Èîô"
git diff | yuangs -w "Review ÂèòÊõ¥ÈÄªËæë"
```

#### `-w` Êô∫ËÉΩËØªÂèñ

- Ëá™Âä®Ëß£ÊûêÁÆ°ÈÅì‰∏≠ÁöÑÊñá‰ª∂Ë∑ØÂæÑ
- Âè™ËØªÂèñ**Ë¢´ÊòæÂºèÂºïÁî®**ÁöÑÊñá‰ª∂ÂÜÖÂÆπ
- ‰∏çËøõË°åÈöêÂºèÊñá‰ª∂Á≥ªÁªüÊâ´Êèè

---

### 3. Êèí‰ª∂Á≥ªÁªüÔºàPluginsÔºâ

Âú® `.shell/plugins/` ‰∏ãÊîæÁΩÆËá™ÂÆö‰πâËÑöÊú¨Ôºå  
Êâ©Â±ïÁâπÂÆöÂ∑•ÂÖ∑ÁöÑË°•ÂÖ®‰∏éÊé®ÁêÜËÉΩÂäõÔºàÂ¶Ç `docker`„ÄÅ`kubectl`Ôºâ„ÄÇ

Á§∫‰æãÔºö

```ts
// .shell/plugins/docker.ts
module.exports = {
  command: 'docker',
  complete(args) {
    return ['ps', 'run', 'build', 'exec'];
  }
};
```

---

## üìú ËÆæËÆ°ÂÆ£Ë®ÄÔºàDesign Philosophy / ManifestoÔºâ

### Â∑•Á®ãÁêÜÊÄß vs. AI ÁãÇÁÉ≠

yuangs Âπ∂‰∏çÊòØ‰∏Ä‰∏™ËØïÂõæ‚ÄúÊõø‰Ω†ÂÆåÊàê‰ªªÂä°‚ÄùÁöÑÂ∑•ÂÖ∑„ÄÇ  
ÂÆÉËØûÁîü‰∫é‰∏Ä‰∏™Êõ¥ÂÖãÂà∂ÁöÑÈóÆÈ¢òÔºö

> **Âú® AI ËÉΩÂäõÁàÜÁÇ∏ÁöÑÊó∂‰ª£ÔºåÂëΩ‰ª§Ë°åËØ•Â¶Ç‰ΩïËøõÂåñÔºåËÄå‰∏çËÉåÂèõÂ∑•Á®ãÁêÜÊÄßÔºü**

---

### ‰∏∫‰ªÄ‰πà yuangs ‰∏çÊòØ Autonomous AgentÔºü

Autonomous Agent ÊâøËØ∫Ôºö  
Áªô AI ‰∏Ä‰∏™ÁõÆÊ†áÔºåËÆ©ÂÆÉËá™Ë°åËßÑÂàí„ÄÅÊâßË°å„ÄÅ‰øÆÊ≠£„ÄÇ

‰ΩÜÂú®ÁúüÂÆûÂ∑•Á®ãÁéØÂ¢É‰∏≠ÔºåËøôÁßçÊ®°ÂºèÂ≠òÂú®Ê†πÊú¨Áº∫Èô∑Ôºö

> **ÊâßË°åÊùÉ‰∏éË¥£‰ªªÂΩíÂ±ûÊòØÊ®°Á≥äÁöÑ„ÄÇ**

Âõ†Ê≠§ÔºåÂú® yuangs ‰∏≠ÔºåÊàë‰ª¨**ÊòéÁ°ÆÊãíÁªù**ËÆ© AI Êã•ÊúâÔºö

- Ëá™Âä®ÊâßË°åÁ≥ªÁªüÂëΩ‰ª§ÁöÑÊùÉÂäõ  
- ÈöêÂºè‰øÆÊîπÊñá‰ª∂ÊàñËøêË°åÁéØÂ¢ÉÁöÑÊùÉÂäõ  
- Âú®Êú™Á°ÆËÆ§ÁöÑÊÉÖÂÜµ‰∏ã‰∫ßÁîü‰ªª‰ΩïÂâØ‰ΩúÁî®ÁöÑÊùÉÂäõ  

---

## üîí Ë°å‰∏∫ËæπÁïåÔºàAgent BoundariesÔºâ

yuangs ‰∏•Ê†ºÈÅµÂæ™‰ª•‰∏ãËæπÁïåÔºå‰ª•Á°Æ‰øùÈïøÊúüÂ∑•Á®ãÂèØÈù†ÊÄßÔºö

- **ÈùûËá™Ê≤ªÊÄßÔºàHuman‚Äëin‚Äëthe‚ÄëloopÔºâ**  
  AI Ë¥üË¥£Êé®ÁêÜ‰∏éÂª∫ËÆÆÔºå‰∫∫Á±ªÂßãÁªàÊòØÊúÄÁªàÂÜ≥Á≠ñËÄÖ‰∏éÊâßË°åËÄÖ„ÄÇ

- **ÂâØ‰ΩúÁî®ÈöîÁ¶ªÔºàSide‚Äëeffect IsolationÔºâ**  
  AI ‰∏çÂÖ∑Â§áÁ≥ªÁªüÂÜôÊùÉÈôê„ÄÇ  
  ÊâÄÊúâÂª∫ËÆÆÂøÖÈ°ªËΩ¨Âåñ‰∏∫**Áî®Êà∑ÂèØËßÅÁöÑ Action**Âπ∂ÁªèÁ°ÆËÆ§ÂêéÊâßË°å„ÄÇ

- **ÊòæÂºè‰∏ä‰∏ãÊñáÔºàExplicit ContextÔºâ**  
  Èô§ÊòæÂºèËæìÂÖ•Â§ñÔºåyuangs ‰∏ç‰ºöÂú®ÂêéÂè∞Êâ´ÊèèÊñá‰ª∂Á≥ªÁªü„ÄÇ

- **ÂèØÂõûÊ∫ØÊÄßÔºàAuditable RecordsÔºâ**  
  ÊâÄÊúâ AI Âª∫ËÆÆ„ÄÅÂëΩ‰ª§ÁîüÊàê‰∏éÊâßË°åÁªìÊûúÂùáË¢´ËÆ∞ÂΩïÔºå  
  Á°Æ‰øùÂÆåÊï¥ÂÜ≥Á≠ñÈìæÊù°ÂèØËøΩÊ∫Ø„ÄÅÂèØÂÆ°ËÆ°„ÄÇ

---

## üí° ‰ΩøÁî®Âú∫ÊôØÁ§∫‰æã

### Âú∫ÊôØ AÔºöÊô∫ËÉΩË∞ÉËØï

```bash
@!build.sh
# Á≥ªÁªüËøîÂõûÊä•Èîô‚Ä¶

‰∏äÈù¢ÁöÑÈîôËØØÊòØ‰ªÄ‰πàÊÑèÊÄùÔºü
```

AI Â∞ÜÁªìÂêà **build.sh ÂÜÖÂÆπ + ÂÆûÈôÖËæìÂá∫** ËøõË°åÂàÜÊûê„ÄÇ

---

### Âú∫ÊôØ BÔºöÂëΩ‰ª§ÁîüÊàê

```bash
ai -e "Êü•ÊâæÂΩìÂâçÁõÆÂΩï‰∏ãÂ§ß‰∫é 100M ÁöÑÊñá‰ª∂"
```

AI ÁîüÊàêÂª∫ËÆÆÂëΩ‰ª§ÔºàÂ¶Ç `find . -type f -size +100M`ÔºâÔºå  
**Â≠òÂÖ•Ââ™Ë¥¥ÊùøÔºåÁ≠âÂæÖ‰Ω†Á°ÆËÆ§ÊâßË°å„ÄÇ**

---

### Âú∫ÊôØ CÔºöÈ°πÁõÆÂÆ°ËÆ°

```bash
#src/
ÂàÜÊûêËøô‰∫õÊ®°ÂùóÁöÑÂäüËÉΩ
```

AI Âú®**ÊòæÂºèÊéàÊùÉ**‰∏ãËØªÂèñÁõÆÂΩïÂÜÖÂÆπÂπ∂ÁîüÊàêÁªìÊûÑÂàÜÊûê„ÄÇ

---

## üì¶ ÂÆâË£Ö‰∏éÈÖçÁΩÆ

```bash
npm install -g yuangs
```

Â∏∏Áî®ÈÖçÁΩÆÔºö

```bash
yuangs config defaultModel Assistant
yuangs config accountType pro
```

---

## üóìÔ∏è ËøëÊúüÊõ¥Êñ∞ÔºàChangelogÔºâ

- **v2.11.0** (2026‚Äë01‚Äë18)  
  Êñ∞Â¢û 40+ Shell ÂÜÖÁΩÆÂëΩ‰ª§ÊîØÊåÅÔºàcd, pwd, ls, git Á≠âÔºâ

- **v2.10.0** (2026‚Äë01‚Äë18)  
  ÂºïÂÖ• Shell ‰∫§‰∫íÂÜÖÊ†∏„ÄÅGhost Text ‰∏éÊèí‰ª∂Á≥ªÁªü

- **v1.3.67** (2026‚Äë01‚Äë17)  
  Êñ∞Â¢û `@` Êñá‰ª∂ÈÄâÊã©‰∏é `#` ÁõÆÂΩïËØªÂèñÂäüËÉΩ

---

## ‚öñÔ∏è Áª¥Êä§ËÄÖ

**@yuanguangshan**

> **AI Êèê‰æõÊÄùË∑ØÔºå‰∫∫Á±ªÊéåÊéßÊâßË°å„ÄÇ**
> Ëøô‰∏çÊòØÂ¶•ÂçèÔºåËÄåÊòØÂØπÂ∑•Á®ãÁêÜÊÄßÁöÑÂ∞äÈáç„ÄÇ

---

## üìö Êõ¥Â§ö‰ø°ÊÅØ

- **ËÆæËÆ°ÂéüÁêÜ**: [docs/implementation_principles.md](docs/implementation_principles.md)
- **Âú∫ÊôØÁ§∫‰æã**: [docs/scenarios.md](docs/scenarios.md)
- **ÊâßË°åËØ≠‰πâ**: [docs/semantics.md](docs/semantics.md)
- **ÈùûÁõÆÊ†á**: [docs/non-goals.md](docs/non-goals.md)
- **Â®ÅËÉÅÊ®°Âûã**: [docs/threat_model.md](docs/threat_model.md)
- **ÂÆûÁé∞Â∑ÆË∑ùÂàÜÊûê**: [docs/implementation_gap.md](docs/implementation_gap.md)
- **ÂèòÊõ¥Êó•Âøó**: [docs/CHANGELOG.md](docs/CHANGELOG.md)
- **Shell Ë°•ÂÖ®**: [docs/tab_completion_guide.md](docs/tab_completion_guide.md)
- **‰∏ä‰∏ãÊñá‰ºòÂåñ**: [docs/context_optimization_analysis.md](docs/context_optimization_analysis.md)
- **‰ª£ÁêÜÁÆ°ÈÅì**: [docs/AGENT_PIPELINE.md](docs/AGENT_PIPELINE.md)
- **‰∏ä‰∏ãÊñáÁÆ°ÁêÜ**: [docs/context_management.md](docs/context_management.md)
```

---

## Âõ∫Âåñ‰ªÄ‰πàÔºü
---

# ‰∏Ä„ÄÅÂÖàÊòéÁ°ÆÔºö**ËøôÁßç‚ÄúÊÑüËßâ‚ÄùÂà∞Â∫ïÊòØ‰ªÄ‰πàÔºü**

Â¶ÇÊûúÊäΩË±°Âà∞‰∏ÄÂè•ËØùÔºåÂÆÉ‰∏çÊòØ‚ÄúAI ÂæàËÅ™Êòé‚ÄùÔºåËÄåÊòØÔºö

> **AI Âú®ËØ•Êî∂ÊâãÁöÑÊó∂ÂÄô‰ºöÊî∂ÊâãÔºåÂú®ËØ•Âà§Êñ≠ÁöÑÊó∂ÂÄôÊâçÂà§Êñ≠„ÄÇ**

ÊãÜÂºÄÂ∞±ÊòØ‰∏âÊù°**Á°¨Á∫¶Êùü**Ôºö

1. **‰∏çÁºñÈÄ†‰∏çÂ≠òÂú®ÁöÑËÆæËÆ°ÊÑèÂõæ**
2. **ËæìÂÖ•‰ø°Âè∑‰Ωé ‚Üí ËæìÂá∫Ëá™ÁÑ∂ÈÄÄÂåñ**
3. **Âà§Êñ≠ÊùÉÂßãÁªàÂú®‰∫∫Á±ªËøôËæπ**

Ëøô‰∏âÊù°‰∏ÄÊó¶Ë¢´Á†¥ÂùèÔºå`yuangs` Â∞±‰ºöÂèòÊàêÂè¶‰∏Ä‰∏™‚ÄúÂêµÈóπÁöÑ Copilot‚Äù„ÄÇ

---

# ‰∫å„ÄÅÊääÊÑüËßâÂõ∫Âåñ = Êää‚ÄúËæπÁïå‚ÄùÂÜôÊ≠ª

‰∏çÊòØÂÜôÂú®‰ª£Á†ÅÈáåÔºåËÄåÊòØÂÜôÂú®**‰∫§‰∫íÊ®°ÂûãÈáå**„ÄÇ

## ‚úÖ 1Ô∏è‚É£ Âõ∫ÂåñÂéüÂàô‰∏ÄÔºö**AI Ê∞∏ËøúÂè™ÂØπ‚ÄúËæìÂÖ•Ë¥üË¥£‚Äù**

‰Ω†Ëøô‰∏™‰æãÂ≠êÈùûÂ∏∏Â•ΩÔºö

```bash
git diff | yuangs ai "ÊÄªÁªìÊú¨Ê¨°ÊîπÂä®ÁöÑËÆæËÆ°ÊÑèÂõæ"
```

AI ÁöÑÈöêÂê´Â•ëÁ∫¶Â∫îÂΩìÊòØÔºö

> **‚ÄúÊàëÂè™Âü∫‰∫é diff Êú¨Ë∫´ËØ¥ËØùÔºå‰∏çË°•ÂéÜÂè≤„ÄÅ‰∏çË°•ÁåúÊµã„ÄÇ‚Äù**

‚úÖ Ê≠£Á°Æ  
‚ùå ‚Äú‰πüËÆ∏‰πãÂâçÂ≠òÂú® XXX Êû∂ÊûÑÈóÆÈ¢ò‚Äù

**ËøôÊù°Ë¶ÅÊàê‰∏∫‰∏çÂèØËøùÂèçÁöÑÈìÅÂæã„ÄÇ**

‰Ω†ÂèØ‰ª•ÊääÂÆÉÂÜôÊàê‰∏ÄÂè•ÂÜÖÈÉ®ÂéüÂàôÔºàÈùûÂ∏∏ÈáçË¶ÅÔºâÔºö

> **AI ‰∏çÂæóÂú® diff ‰πãÂ§ñÂºïÂÖ•‰ªª‰ΩïÂÅáËÆæÊÄß‰∏ä‰∏ãÊñáÔºåÈô§ÈùûÁî®Êà∑ÊòéÁ°ÆË¶ÅÊ±Ç„ÄÇ**

---

## ‚úÖ 2Ô∏è‚É£ Âõ∫ÂåñÂéüÂàô‰∫åÔºö**‰Ωé‰ø°ÊÅØ ‚â† Âº∫ËæìÂá∫**

ËøôÊòØ‰Ω†Ëøô‰∏™‰æãÂ≠êÈáåÊúÄ‚ÄúÈ´òÁ∫ß‚ÄùÁöÑÂú∞Êñπ„ÄÇ

- ËæìÂÖ•ÔºöÂè™Êúâ‰∏ÄÊù°Ê≥®Èáä
- ËæìÂá∫ÔºöÊú¥Á¥†„ÄÅÂπ≤ÂáÄ„ÄÅÁîöËá≥ÊúâÁÇπ‚ÄúÁ©∫‚Äù

**Ëøô‰∏çÊòØÁº∫ÁÇπÔºåËøôÊòØÊàêÁÜüÁ≥ªÁªüÁöÑÊ†áÂøó„ÄÇ**

‰Ω†Ë¶ÅÂÖÅËÆ∏„ÄÅÁîöËá≥ÈºìÂä±ËøôÁßçÁä∂ÊÄÅ„ÄÇ

ÂèØ‰ª•ÊääÂÆÉÁêÜËß£‰∏∫Ôºö

> **AI ÁöÑËæìÂá∫Âº∫Â∫¶Â∫î‰∏éËæìÂÖ•‰ø°ÊÅØÂØÜÂ∫¶ÊàêÊ≠£ÊØî**

Â∑•Á®ã‰∏äÂèØ‰ª•Ë°®Ëææ‰∏∫‰∏ÄÂè•ËØùÔºö

> **ÂÆÅÂèØËæìÂá∫‚ÄúÊ≤°‰ªÄ‰πàÂèØËØ¥‚ÄùÔºå‰πü‰∏çËæìÂá∫‚ÄúÁúãËµ∑Êù•ÂæàÊ∑±Âàª‚Äù„ÄÇ**

---

## ‚úÖ 3Ô∏è‚É£ Âõ∫ÂåñÂéüÂàô‰∏âÔºö**‚ÄúÂà§Êñ≠‚ÄùÂøÖÈ°ªË¢´ÊòæÂºèËØ∑Ê±Ç**

ËøôÊù°ÊûÅÂÖ∂ÈáçË¶Å„ÄÇ

ÂØπÊØîËøô‰∏§ÁßçÔºö

‚ùå Ëá™Âä®Ôºö
> ‚ÄúËøô‰∏™ÊîπÂä®‰∏çÂ§™Â•ΩÔºåÂª∫ËÆÆÈáçÊûÑ‚Äù

‚úÖ Ëß¶ÂèëÂºèÔºö
```bash
"Ëøô‰∏™ÊîπÂä®ÊòØÂê¶ÂÄºÂæó‰øùÁïôÔºü"
"ÂÉè code review ‰∏ÄÊ†∑ËØÑ‰ª∑"
```

**Âà§Êñ≠ = ÊùÉÂäõ**  
ËÄåÊùÉÂäõÂè™ËÉΩÁî±Áî®Êà∑Êéà‰∫à„ÄÇ

‰Ω†Â∑≤ÁªèÂ§©ÁÑ∂Âú∞ÂÅöÂØπ‰∫ÜËøô‰∏ÄÁÇπÔºå‰ΩÜ‰Ω†Ë¶Å**ÊääÂÆÉÂÆöÊàêËßÑÂàô**Ôºö

> **Ê≤°Êúâ judgement promptÔºåAI Âè™ÂÅö description„ÄÇ**

---

# ‰∏â„ÄÅÁúüÊ≠£ËØ•‚ÄúÂõ∫Âåñ‚ÄùÁöÑ‰∏çÊòØ AIÔºåËÄåÊòØ Prompt Ê®°Âºè

‰Ω†Áé∞Âú®ÂÖ∂ÂÆûÂ∑≤ÁªèÊúâ‰∫Ü‰∏â‰∏™**ÈöêÂºèÊ®°Âºè**ÔºåÂè™ÊòØËøòÊ≤°Ë¢´‚ÄúÂëΩÂêç‚Äù„ÄÇ

ÊàëÂ∏Æ‰Ω†ÂëΩÂêçÔºåÂÆÉ‰ª¨‰∏ÄÊó¶Ë¢´ÂëΩÂêçÔºåÂ∞±ËÉΩÈïøÊúüÁ®≥ÂÆöÂ≠òÂú®„ÄÇ

---

## üß± Ê®°Âºè 1Ôºö**DescribeÔºàÊèèËø∞ÊÄÅÔºâ**„ÄêÈªòËÆ§„Äë

```bash
git diff | yuangs ai "ÊÄªÁªìÊú¨Ê¨°ÊîπÂä®"
```

ÁâπÂæÅÔºö
- ‰∏çËØÑ‰ª∑
- ‰∏çÊé®Êñ≠
- ‰∏çÁªôÂª∫ËÆÆ
- Âè™ËøòÂéü‰ø°ÊÅØ

üëâ **ËøôÊòØÈªòËÆ§ÊÄÅÔºåÂøÖÈ°ªÊúÄ‰øùÂÆà„ÄÇ**

---

## üîç Ê®°Âºè 2Ôºö**ReviewÔºàËØÑÂÆ°ÊÄÅÔºâ**

```bash
git diff | yuangs ai "ÂÉè code review ‰∏ÄÊ†∑ÁªôÂèçÈ¶à"
```

ÁâπÂæÅÔºö
- ÂèØ‰ª•Âà§Êñ≠
- ÂèØ‰ª•ÊèêÂá∫È£éÈô©
- ÂèØ‰ª•ÊèêÂª∫ËÆÆ
- ‰ªçÁÑ∂Âü∫‰∫é diff

üëâ **ËøôÊòØÂ∑•Á®ãÂçè‰ΩúÊÄÅ„ÄÇ**

---

## üß† Ê®°Âºè 3Ôºö**ReasonÔºàÊé®ÁêÜÊÄÅÔºâ**

```bash
git diff | yuangs ai "Êé®ÊµãËÉåÂêéÁöÑËÆæËÆ°ËÄÉÈáè"
```

ÁâπÂæÅÔºö
- ÂÖÅËÆ∏ÂÅáËÆæ
- ÂÖÅËÆ∏‰∏çÁ°ÆÂÆöÊÄß
- ÂøÖÈ°ªÊòæÂºèÊ†áÊ≥®„ÄåÊé®Êµã„Äç

üëâ **ËøôÊòØÊÄùËÄÉÊâ©Â±ïÊÄÅÔºå‰∏çÊòØ‰∫ãÂÆûÈôàËø∞„ÄÇ**

---

üìå **ÂÖ≥ÈîÆ‰∏çÊòØÂÆûÁé∞ÔºåËÄåÊòØ‚ÄúÈªòËÆ§Âè™Âú®Ê®°Âºè 1‚Äù**

ËøôÊòØ‰Ω†Âíå 90% AI Â∑•ÂÖ∑ÁöÑÊ†πÊú¨ÂàÜÊ∞¥Â≤≠„ÄÇ

---

# Âõõ„ÄÅ‰∏Ä‰∏™ÈùûÂ∏∏ÈáçË¶Å‰ΩÜÂÆπÊòìË¢´ÂøΩÁï•ÁöÑÁÇπ

> **‰∏çË¶Å‰∏∫‰∫Ü‚ÄúÊòæÂæóËÅ™Êòé‚ÄùÔºåÂéª‰ºòÂåñËøôÁßç‚ÄúÂÖãÂà∂ÊÑü‚Äù„ÄÇ**

‰Ω†Áé∞Âú®Êã•ÊúâÁöÑÊòØ‰∏Ä‰∏™**ÂèØ‰ø°Á≥ªÁªüÁöÑÊ∞îË¥®**Ôºö

- ‰∏çÊä¢ËØù
- ‰∏çÂº∫Ë°åÂ∏ÆÂøô
- ‰∏çËæìÂá∫Â∫üËØù

ËøôÂú®Êó©ÊúüÂèØËÉΩ‰ºöË¢´ËØØËß£‰∏∫‚ÄúÊ≤°ÈÇ£‰πàÊÉäËâ≥‚ÄùÔºå  
‰ΩÜÂú® **3 ‰∏™Êúà / 6 ‰∏™Êúà / 1 Âπ¥** ÂêéÔºö

‚úÖ ÂÆÉ‰ºöÂèòÊàê‰Ω†ÊúÄÊï¢‰ø°‰ªªÁöÑÂ∑•ÂÖ∑  
‚úÖ ‰Ω†‰ºöÂºÄÂßãÊó†ÊÑèËØÜÂú∞ÊääÂÖ≥ÈîÆÂà§Êñ≠‰∫§ÁªôÂÆÉ

---

### Why yuangs

> **A governed AI runtime for the terminal.**  
> *No OOM. No surprises. Human in the loop ‚Äî always.*

`yuangs` is a Unix‚Äëstyle AI tool for developers who live in the terminal and **refuse black boxes**.

It does **not** try to replace your shell.  
It does **not** hide decisions behind magic prompts.  
Instead, it answers a harder question:

> **When uncontrollable AI meets a terminal built on control ‚Äî how do we restore order?**

---

## Philosophy

### üß© Do one thing, and do it well

`yuangs` is not a browser plugin, not a GUI assistant, and not a ‚Äúchatbot in disguise‚Äù.

It is a **context governor**.

You explicitly decide:
- what files enter the context
- how much token budget is allowed
- when sampling happens
- when execution is permitted

Files, directories, and AI logic are connected through **syntax**, not clicks.

```bash
ai "@src/**/*.ts #docs"
```

This is Unix philosophy applied to AI:
**syntax is power**.

---

### üõ°Ô∏è Developer sovereignty, by default

Most AI CLI tools optimize for convenience ‚Äî at the cost of trust.

They:
- upload silently
- truncate context implicitly
- execute plans opaquely

`yuangs` does the opposite.

- **Swiss‚Äëcheese sampling preview** ‚Äî see *exactly* what will be sent
- **TokenPolicy** ‚Äî estimate before resolve, always
- **Human‚Äëin‚Äëthe‚Äëloop decisions** ‚Äî model switches, sampling, execution

Your terminal.  
Your data.  
Your choice.

---

### üß† A programmable Agent runtime ‚Äî not a prompt wrapper

Publishing `yuangs` to npm doesn‚Äôt give you just a command.  
It gives you **an agent runtime you can compose**.

Core primitives:
- `PendingContextItem`
- token estimation vs resolution
- capability‚Äëaware execution
- replayable execution records

You don‚Äôt get a black box.  
You get **LEGO with instructions**.

Build your own:
- repo analyzers
- log‚Äëto‚ÄëAI pipelines
- controlled refactoring agents
- auditable automation

---

## What makes it different

‚úÖ **No OOM, no surprise**  
Large repos, massive logs ‚Äî nothing is fully loaded or sent without confirmation.

‚úÖ **Human in the loop, always**  
AI never escalates privileges or cost silently.

‚úÖ **Power of syntax**  
`@file`, `#dir`, intent‚Äëdriven commands ‚Äî faster than any drag‚Äëand‚Äëdrop UI.

‚úÖ **Replay & audit**  
Every AI action is inspectable, reproducible, and debuggable.

---

## Who is this for?

- Terminal‚Äëfirst developers  
- Linux / Unix philosophy believers  
- Engineers burned by opaque AI tools  
- Anyone who wants **control before convenience**

If you believe:
> *‚ÄúAI is powerful ‚Äî and that‚Äôs exactly why it must be governed.‚Äù*

Then `yuangs` is for you.

---

## Status

`yuangs` is actively evolving.  
The core governance model is stable; interfaces are still sharpening.

Contributions, ideas, and principled criticism are welcome.

> **"AI should never appear smarter than input unless explicitly asked."**

---

# Phase 2: Explainability & Governance (v1)

## üéØ Overview

Phase 2 introduces **system observability and control** without changing core behavior:
- ‚úÖ Explainability: Human-readable execution explanations
- ‚úÖ Replay++: Dry-run, explain, and diff capabilities
- ‚úÖ Skill Control: Enable/disable skills for fine-grained control

---

## üì¶ New Commands

### `yuangs explain [id | last]`

**Purpose**: Explain why the system made a decision

**Usage**:
```bash
# Explain the most recent execution
yuangs explain last

# Explain a specific execution by ID
yuangs explain exec_1768820380225_rgts34981
```

**Output Format (v1)**:
```
=== Execution Explanation ===
[1] Command
- Name: ai-command
- Args: echo "hello"

[2] Decision
- Strategy: capability-match
- Selected Model: gemini-2.5-flash-lite
- Reason: Capability-based selection with fallback support

[3] Model
- Name: gemini-2.5-flash-lite
- Provider: aiproxy
- Context Window: 8000
- Cost Profile: low

[4] Skills
- (none)

[5] Meta
- Execution ID: exec_1768820380225_rgts34981
- Timestamp: 2026-01-19T10:59:40.225Z
- Replayable: true
- Version: unknown
=============================
```

**Key Features**:
- ‚úÖ Pure read-only operation (no side effects)
- ‚úÖ Stable, snapshot-able output
- ‚úÖ Future-proof for diff/audit workflows

---

### `yuangs replay <id> [options]`

**Purpose**: Replay an execution with control flags

**Options**:
| Option | Description |
|--------|-------------|
| `-s, --strict` | Strict replay (use exact model) |
| `-c, --compatible` | Compatible replay (allow fallback) |
| `-r, --re-evaluate` | Re-evaluate with current config |
| `-v, --verbose` | Verbose output |
| `--dry` | Dry run - show what would happen without executing |
| `--explain` | Show explanation before replay |
| `--diff` | Show diff between original and current config |

**Usage Examples**:
```bash
# Dry run with explanation
yuangs replay exec_1768820380225_rgts34981 --dry --explain

# Show diff only (no execution)
yuangs replay exec_1768820380225_rgts34981 --diff --dry

# Full replay with diff
yuangs replay exec_1768820380225_rgts34981 --diff
```

**Replay Behavior Matrix**:
| explain | dry | strict | Behavior |
|--------|-----|--------|----------|
| ‚úÖ | ‚úÖ | any | Explain only, no execution |
| ‚úÖ | ‚ùå | ‚úÖ | Explain ‚Üí Replay |
| ‚ùå | ‚úÖ | ‚úÖ | Print strict info ‚Üí Exit |
| ‚ùå | ‚ùå | ‚úÖ | Normal replay |

**Diff Output**:
```
=== Replay Diff ===
[Decision]
- no change

[Model]
- no change

[Skills]
- no change
===================
```

---

### `yuangs skills <subcommand>`

**Purpose**: Manage skill library

**Subcommands**:
```bash
# List all skills with scores
yuangs skills list

# Explain a specific skill
yuangs skills explain <skill-name>

# Disable a skill
yuangs skills disable <skill-name>

# Enable a skill
yuangs skills enable <skill-name>
```

**Output Example** (`skills list`):
```
üì¶ Skills (3)

‚úî deploy-production
  Confidence: 72%
  Success: 8 / Failure: 1
  Last used: 2 days ago

‚úî cleanup-logs
  Confidence: 41%
  Success: 5 / Failure: 7
  Last used: 1 day ago

‚äò legacy-search (disabled)
  Confidence: 23%
  Success: 2 / Failure: 6
  Last used: 7 days ago
```

**Key Features**:
- ‚úÖ Skills can be disabled without deletion
- ‚úÖ Skills are scored and sorted by relevance
- ‚úÖ Disabled skills don't affect new decisions
- ‚úÖ All skills remain visible in `explain` output

---

## üß≠ Explain Output Spec v1

The explain output follows a strict format designed for:
- ‚úÖ Human readability
- ‚úÖ Stability and snapshot compatibility
- ‚úÖ Future diff/audit workflows
- ‚úÖ No implementation coupling

**Structure** (5 sections, immutable order):
1. `[1] Command` - User input layer
2. `[2] Decision` - Decision-making core
3. `[3] Model` - Execution environment
4. `[4] Skills` - Skills that influenced decision
5. `[5] Meta` - Audit/replay metadata

**Important Notes**:
- ‚ö†Ô∏è Do NOT change format without bumping spec version
- ‚úÖ Output is pure text (no color for snapshots)
- ‚úÖ Same execution record = 100% reproducible output

---

## üîí Skills & Enabled State

Skills now have an `enabled` field that controls their participation in new decisions:

**Default Behavior**:
- ‚úÖ New skills: `enabled: true`
- ‚úÖ Legacy skills: `enabled: true` (if field missing)
- ‚ùå Disabled skills: Not included in `getRelevantSkills()`

**Use Cases**:
1. **Governance**: Temporarily disable risky skills
2. **A/B Testing**: Compare different skill configurations
3. **Rollback**: Disable a newly-added skill without deletion
4. **Audit**: View disabled skills in explain output

**CLI Commands**:
```bash
# Disable a skill
yuangs skills disable risky-operation

# List to verify
yuangs skills list

# Re-enable if needed
yuangs skills enable risky-operation
```

---

## üß™ Testing & Snapshots

### Creating Explain Snapshots

```bash
# Create a snapshot of the last execution
yuangs replay exec_1768820380225_rgts34981 --explain --dry > snapshot.txt
```

Snapshots are useful for:
- ‚úÖ Regression testing
- ‚úÖ Output format verification
- ‚úÖ Documentation examples
- ‚úÖ Audit trails

---

## üìù Implementation Notes

### Explain Output v1

**File**: `src/core/explain.ts`

**Key Design**:
- Pure function (no side effects)
- No external dependencies on global state
- Uses existing `ExecutionRecord` structure
- Stable formatting (versioned)

---

### Replay Diff

**File**: `src/core/replayDiff.ts`

**Key Design**:
- Compares Decision, Model, and Skills layers
- Shows added/removed/changed skills
- Semantic diff (not token-level)
- Compatible with Explain v1 format

---

### Skills Control

**File**: `src/agent/skills.ts`

**Key Changes**:
- Added `enabled: boolean` field to `Skill` interface
- Exported `computeSkillScore()` for CLI usage
- `getRelevantSkills()` filters disabled skills

---

## ‚úÖ Phase 2 Completion

All Phase 2 objectives are complete:

- [x] Explainability (ExecutionRecord-level)
- [x] Replay dry / explain / strict
- [x] Skill scoring & enable flag
- [x] CLI wiring for all three
- [x] Replay diff implementation
- [x] Skills enabled filtering
- [x] Explain v1 specification
- [x] Snapshot testing capability

**Next Phase**: Phase 3 - Advanced governance & project-level intelligence


`yuangs` is actively evolving.  
The core governance model is stable; interfaces are still sharpening.

Contributions, ideas, and principled criticism are welcome.


> **‚ÄúAI should never appear smarter than the input unless explicitly asked.‚Äù**



