
# ğŸš€ yuangs CLI

**ä»¥äººç±»æ„å›¾ä¸ºä¸­å¿ƒçš„ AIâ€‘Augmented Shell**

ä¸€ä¸ªé›† **AI åŠ©æ‰‹ Â· æ™ºèƒ½ Shell å†…æ ¸ Â· æ’ä»¶åŒ–è¿è¡Œæ—¶** äºä¸€ä½“çš„ç°ä»£ç»ˆç«¯å·¥å…·ã€‚

> **æ ¸å¿ƒç†å¿µ**  
> **AI æä¾›æ€è·¯ï¼Œäººç±»æŒæ§æ‰§è¡Œã€‚**  
> yuangs è‡´åŠ›äºåœ¨ä¸ç ´åä¼ ç»Ÿ Shell å¿ƒæ™ºæ¨¡å‹çš„å‰æä¸‹ï¼Œå¼•å…¥ AI çš„é€»è¾‘èƒ½åŠ›ã€‚  
> å®ƒä¸æ˜¯é»‘ç›’æ‰§è¡Œå™¨ï¼Œè€Œæ˜¯ä½ çš„ **å¢å¼ºå‹å‘½ä»¤è¡Œå¤–è„‘**ã€‚

---

## ğŸ—ï¸ æ‰§è¡Œè¯­ä¹‰è§„èŒƒï¼ˆExecution Semanticsï¼‰

yuangs é€šè¿‡ä¸€å¥—**æ˜¾å¼çš„ç¬¦å·è¯­æ³•**ï¼Œæ¸…æ™°ç•Œå®šâ€œå‰¯ä½œç”¨â€çš„æ¥æºï¼Œ  
ç¡®ä¿æ¯ä¸€æ¡å‘½ä»¤ **å¯ç†è§£ã€å¯ç¡®è®¤ã€å¯å®¡è®¡**ã€‚

| è¯­æ³• | è¡Œä¸ºé€»è¾‘ | å†³ç­–æ¥æº | é€‚ç”¨åœºæ™¯ |
|---|---|---|---|
| `ls -la` | ç›´æ¥è¿è¡Œå‘½ä»¤ï¼ˆfish-styleï¼‰ | ç”¨æˆ· | ä¼ ç»Ÿ Shell æ“ä½œ |
| `@path[:line]` | å¼•ç”¨æ–‡ä»¶ / è¡Œå·ä¸Šä¸‹æ–‡ | ç”¨æˆ· | ä»£ç å®¡è®¡ã€æŠ¥é”™åˆ†æ |
| `#dir` | æ‰¹é‡å¼•å…¥ç›®å½•ä¸Šä¸‹æ–‡ | ç”¨æˆ· | é¡¹ç›®ç»“æ„ç†è§£ |
| `ai "msg"` | çº¯è‡ªç„¶è¯­è¨€å¯¹è¯ | AI | æ–¹æ¡ˆè®¨è®ºã€çŸ¥è¯†æŸ¥è¯¢ |
| `ai -e` | ç”Ÿæˆ**å»ºè®®**å‘½ä»¤ | AI â†’ ç”¨æˆ· | å¤æ‚å‘½ä»¤è¾…åŠ© |
| `:exec` | ç»•è¿‡ AI çš„åŸå­æ‰§è¡Œ | ç”¨æˆ· | ç¡®å®šæ€§è„šæœ¬ |

---

## ğŸŒŸ æ ¸å¿ƒåŠŸèƒ½

### 1. æ™ºèƒ½ Shell å†…æ ¸ï¼ˆv2.10.0+ï¼‰

è¿›å…¥äº¤äº’å¼ AIâ€‘Augmented Shellï¼š

```bash
yuangs ai
```

ç‰¹æ€§åŒ…æ‹¬ï¼š

- **æ¨¡å¼è‡ªåŠ¨è·¯ç”±**  
  æ— éœ€åˆ‡æ¢æ¨¡å¼ï¼š
  - è¾“å…¥ `git status` â†’ ç›´æ¥æ‰§è¡Œ  
  - è¾“å…¥ã€Œè§£é‡Šè¿™æ®µä»£ç ã€â†’ è¿›å…¥å¯¹è¯

- **ğŸ‘» Ghost Textï¼ˆå¹½çµå»ºè®®ï¼‰**  
  æ ¹æ®å†å²è®°å½•ä¸æ’ä»¶é¢„æµ‹è¾“å…¥  
  ä¾‹å¦‚è¾“å…¥ `npm r`ï¼Œç°è‰²æ˜¾ç¤º `un dev`ï¼ŒæŒ‰ `Tab` é‡‡çº³

- **âš¡ è¡¥å…¨å¢å¼º**
  - **PATH æ‰«æ**ï¼šè‡ªåŠ¨è¡¥å…¨ 40+ å¸¸ç”¨ç³»ç»Ÿå‘½ä»¤  
  - **ç²¾å‡†è¡Œå·**ï¼šæ”¯æŒ `@src/index.ts:10-50`  
  - **é¡¹ç›®æ„ŸçŸ¥**ï¼šæå‡ `src/`ã€`packages/` ç­‰ç›®å½•æƒé‡

---

### 2. ç²¾å‡†ä¸Šä¸‹æ–‡ç®¡ç†ï¼ˆContextBufferï¼‰

#### ç®¡é“æ¨¡å¼ï¼ˆPipe Modeï¼‰

```bash
cat error.log | yuangs "è§£é‡Šè¿™ä¸ªæŠ¥é”™"
git diff | yuangs -w "Review å˜æ›´é€»è¾‘"
```

#### `-w` æ™ºèƒ½è¯»å–

- è‡ªåŠ¨è§£æç®¡é“ä¸­çš„æ–‡ä»¶è·¯å¾„
- åªè¯»å–**è¢«æ˜¾å¼å¼•ç”¨**çš„æ–‡ä»¶å†…å®¹
- ä¸è¿›è¡Œéšå¼æ–‡ä»¶ç³»ç»Ÿæ‰«æ

---

### 3. æ’ä»¶ç³»ç»Ÿï¼ˆPluginsï¼‰

åœ¨ `.shell/plugins/` ä¸‹æ”¾ç½®è‡ªå®šä¹‰è„šæœ¬ï¼Œ  
æ‰©å±•ç‰¹å®šå·¥å…·çš„è¡¥å…¨ä¸æ¨ç†èƒ½åŠ›ï¼ˆå¦‚ `docker`ã€`kubectl`ï¼‰ã€‚

ç¤ºä¾‹ï¼š

```ts
// .shell/plugins/docker.ts
module.exports = {
  command: 'docker',
  complete(args) {
    return ['ps', 'run', 'build', 'exec'];
  }
};
```

---

## ğŸ“œ è®¾è®¡å®£è¨€ï¼ˆDesign Philosophy / Manifestoï¼‰

### å·¥ç¨‹ç†æ€§ vs. AI ç‹‚çƒ­

yuangs å¹¶ä¸æ˜¯ä¸€ä¸ªè¯•å›¾â€œæ›¿ä½ å®Œæˆä»»åŠ¡â€çš„å·¥å…·ã€‚  
å®ƒè¯ç”Ÿäºä¸€ä¸ªæ›´å…‹åˆ¶çš„é—®é¢˜ï¼š

> **åœ¨ AI èƒ½åŠ›çˆ†ç‚¸çš„æ—¶ä»£ï¼Œå‘½ä»¤è¡Œè¯¥å¦‚ä½•è¿›åŒ–ï¼Œè€Œä¸èƒŒå›å·¥ç¨‹ç†æ€§ï¼Ÿ**

---

### ä¸ºä»€ä¹ˆ yuangs ä¸æ˜¯ Autonomous Agentï¼Ÿ

Autonomous Agent æ‰¿è¯ºï¼š  
ç»™ AI ä¸€ä¸ªç›®æ ‡ï¼Œè®©å®ƒè‡ªè¡Œè§„åˆ’ã€æ‰§è¡Œã€ä¿®æ­£ã€‚

ä½†åœ¨çœŸå®å·¥ç¨‹ç¯å¢ƒä¸­ï¼Œè¿™ç§æ¨¡å¼å­˜åœ¨æ ¹æœ¬ç¼ºé™·ï¼š

> **æ‰§è¡Œæƒä¸è´£ä»»å½’å±æ˜¯æ¨¡ç³Šçš„ã€‚**

å› æ­¤ï¼Œåœ¨ yuangs ä¸­ï¼Œæˆ‘ä»¬**æ˜ç¡®æ‹’ç»**è®© AI æ‹¥æœ‰ï¼š

- è‡ªåŠ¨æ‰§è¡Œç³»ç»Ÿå‘½ä»¤çš„æƒåŠ›  
- éšå¼ä¿®æ”¹æ–‡ä»¶æˆ–è¿è¡Œç¯å¢ƒçš„æƒåŠ›  
- åœ¨æœªç¡®è®¤çš„æƒ…å†µä¸‹äº§ç”Ÿä»»ä½•å‰¯ä½œç”¨çš„æƒåŠ›  

---

## ğŸ”’ è¡Œä¸ºè¾¹ç•Œï¼ˆAgent Boundariesï¼‰

yuangs ä¸¥æ ¼éµå¾ªä»¥ä¸‹è¾¹ç•Œï¼Œä»¥ç¡®ä¿é•¿æœŸå·¥ç¨‹å¯é æ€§ï¼š

- **éè‡ªæ²»æ€§ï¼ˆHumanâ€‘inâ€‘theâ€‘loopï¼‰**  
  AI è´Ÿè´£æ¨ç†ä¸å»ºè®®ï¼Œäººç±»å§‹ç»ˆæ˜¯æœ€ç»ˆå†³ç­–è€…ä¸æ‰§è¡Œè€…ã€‚

- **å‰¯ä½œç”¨éš”ç¦»ï¼ˆSideâ€‘effect Isolationï¼‰**  
  AI ä¸å…·å¤‡ç³»ç»Ÿå†™æƒé™ã€‚  
  æ‰€æœ‰å»ºè®®å¿…é¡»è½¬åŒ–ä¸º**ç”¨æˆ·å¯è§çš„ Action**å¹¶ç»ç¡®è®¤åæ‰§è¡Œã€‚

- **æ˜¾å¼ä¸Šä¸‹æ–‡ï¼ˆExplicit Contextï¼‰**  
  é™¤æ˜¾å¼è¾“å…¥å¤–ï¼Œyuangs ä¸ä¼šåœ¨åå°æ‰«ææ–‡ä»¶ç³»ç»Ÿã€‚

- **å¯å›æº¯æ€§ï¼ˆAuditable Recordsï¼‰**  
  æ‰€æœ‰ AI å»ºè®®ã€å‘½ä»¤ç”Ÿæˆä¸æ‰§è¡Œç»“æœå‡è¢«è®°å½•ï¼Œ  
  ç¡®ä¿å®Œæ•´å†³ç­–é“¾æ¡å¯è¿½æº¯ã€å¯å®¡è®¡ã€‚

---

## ğŸ’¡ ä½¿ç”¨åœºæ™¯ç¤ºä¾‹

### åœºæ™¯ Aï¼šæ™ºèƒ½è°ƒè¯•

```bash
@!build.sh
# ç³»ç»Ÿè¿”å›æŠ¥é”™â€¦

ä¸Šé¢çš„é”™è¯¯æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ
```

AI å°†ç»“åˆ **build.sh å†…å®¹ + å®é™…è¾“å‡º** è¿›è¡Œåˆ†æã€‚

---

### åœºæ™¯ Bï¼šå‘½ä»¤ç”Ÿæˆ

```bash
ai -e "æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹å¤§äº 100M çš„æ–‡ä»¶"
```

AI ç”Ÿæˆå»ºè®®å‘½ä»¤ï¼ˆå¦‚ `find . -type f -size +100M`ï¼‰ï¼Œ  
**å­˜å…¥å‰ªè´´æ¿ï¼Œç­‰å¾…ä½ ç¡®è®¤æ‰§è¡Œã€‚**

---

### åœºæ™¯ Cï¼šé¡¹ç›®å®¡è®¡

```bash
#src/
åˆ†æè¿™äº›æ¨¡å—çš„åŠŸèƒ½
```

AI åœ¨**æ˜¾å¼æˆæƒ**ä¸‹è¯»å–ç›®å½•å†…å®¹å¹¶ç”Ÿæˆç»“æ„åˆ†æã€‚

---

## ğŸ“¦ å®‰è£…ä¸é…ç½®

```bash
npm install -g yuangs
```

å¸¸ç”¨é…ç½®ï¼š

```bash
yuangs config defaultModel Assistant
yuangs config accountType pro
```

---

## ğŸ—“ï¸ è¿‘æœŸæ›´æ–°ï¼ˆChangelogï¼‰

- **v2.11.0** (2026â€‘01â€‘18)  
  æ–°å¢ 40+ Shell å†…ç½®å‘½ä»¤æ”¯æŒï¼ˆcd, pwd, ls, git ç­‰ï¼‰

- **v2.10.0** (2026â€‘01â€‘18)  
  å¼•å…¥ Shell äº¤äº’å†…æ ¸ã€Ghost Text ä¸æ’ä»¶ç³»ç»Ÿ

- **v1.3.67** (2026â€‘01â€‘17)  
  æ–°å¢ `@` æ–‡ä»¶é€‰æ‹©ä¸ `#` ç›®å½•è¯»å–åŠŸèƒ½

---

## âš–ï¸ ç»´æŠ¤è€…

**@yuanguangshan**

> **AI æä¾›æ€è·¯ï¼Œäººç±»æŒæ§æ‰§è¡Œã€‚**
> è¿™ä¸æ˜¯å¦¥åï¼Œè€Œæ˜¯å¯¹å·¥ç¨‹ç†æ€§çš„å°Šé‡ã€‚

---

## ğŸ“š æ›´å¤šä¿¡æ¯

- **è®¾è®¡åŸç†**: [docs/implementation_principles.md](docs/implementation_principles.md)
- **åœºæ™¯ç¤ºä¾‹**: [docs/scenarios.md](docs/scenarios.md)
- **æ‰§è¡Œè¯­ä¹‰**: [docs/semantics.md](docs/semantics.md)
- **éç›®æ ‡**: [docs/non-goals.md](docs/non-goals.md)
- **å¨èƒæ¨¡å‹**: [docs/threat_model.md](docs/threat_model.md)
- **å®ç°å·®è·åˆ†æ**: [docs/implementation_gap.md](docs/implementation_gap.md)
- **å˜æ›´æ—¥å¿—**: [docs/CHANGELOG.md](docs/CHANGELOG.md)
- **Shell è¡¥å…¨**: [docs/tab_completion_guide.md](docs/tab_completion_guide.md)
- **ä¸Šä¸‹æ–‡ä¼˜åŒ–**: [docs/context_optimization_analysis.md](docs/context_optimization_analysis.md)
- **ä»£ç†ç®¡é“**: [docs/AGENT_PIPELINE.md](docs/AGENT_PIPELINE.md)
- **ä¸Šä¸‹æ–‡ç®¡ç†**: [docs/context_management.md](docs/context_management.md)
```

---

### ä¸€å¥å·¥ç¨‹å¸ˆä¹‹é—´çš„å®è¯

è¿™ä»½ README **å·²ç»ä¸æ˜¯â€œäº§å“ä»‹ç»â€**äº†ï¼Œ  
å®ƒæ˜¯ä¸€ä¸ª **Runtime çš„å®ªæ³•æ–‡æœ¬**ã€‚

